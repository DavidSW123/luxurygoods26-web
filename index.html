<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Luxury Goods. Curated Elegance & Exquisite Craftsmanship. Relojería y joyería de lujo.">
    <title>Luxury Goods | Elegancia Curada</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>

    <header class="marble-header">
        <nav class="top-nav">
            <ul>
                <li><a href="#" class="active">Home</a></li>
                <li><a href="#">Shop</a></li>
                <li><a href="#">New Arrivals</a></li>
                <li><a href="#">Contact</a></li>
                
                <li id="menu-login"><a href="#" id="btn-login">Acceso</a></li>
                <li id="menu-admin" class="hidden"><a href="admin.html" class="admin-link">Panel Admin</a></li>
                <li id="menu-logout" class="hidden"><a href="#" id="btn-logout">Salir</a></li>
            </ul>
        </nav>
        
        <div class="logo-container">
            <img src="logo.png" alt="Luxury Goods Logo" class="main-logo">
            <p class="tagline">Curated Elegance, Exquisite Craftsmanship</p>
        </div>
    </header>

    <main class="white-section">
        <section class="featured-product">
            <div class="product-image-container">
                <img src="reloj.jpeg" alt="Reloj de lujo en caja de cuero Luxury Goods">
            </div>
            <div class="product-info-container">
                <div class="crown-icon-wrapper">
                    <img src="crown-icon.png" alt="Corona" class="crown-icon">
                </div>
                <h2 class="product-title">Classic Timeless Pieces</h2>
                <p class="product-description">Descubre la precisión de nuestra colección de relojería suiza. Piezas diseñadas para perdurar.</p>
            </div>
        </section>
    </main>

    <footer class="marble-footer">
        <div class="footer-content">
            <img src="logo.png" alt="Luxury Goods Logo Footer" class="footer-logo">
            <div class="contact-info">
                <p>Elegancia Curada, Artesanía Exquisita</p>
                <p>Contacto: info@luxurygoods.com</p>
            </div>
        </div>
        <p class="copyright">&copy; 2026 Luxury Goods. Todos los derechos reservados.</p>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAdWnW_eamYoki_qYd3huavNh5baxOJIRA",
            authDomain: "luxurygoods26.firebaseapp.com",
            projectId: "luxurygoods26",
            storageBucket: "luxurygoods26.firebasestorage.app",
            messagingSenderId: "603153460354",
            appId: "1:603153460354:web:97534032034721a8d4989b"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Referencias a los botones del menú
        const menuLogin = document.getElementById('menu-login');
        const menuAdmin = document.getElementById('menu-admin');
        const menuLogout = document.getElementById('menu-logout');

        // Escuchar si hay alguien logueado
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                // Usuario logueado: Ocultamos login, mostramos logout
                menuLogin.classList.add('hidden');
                menuLogout.classList.remove('hidden');

                // Verificamos si es ADMIN en la base de datos
                const docRef = doc(db, "usuarios", user.uid);
                const docSnap = await getDoc(docRef);

                if (docSnap.exists() && docSnap.data().rol === "admin") {
                    menuAdmin.classList.remove('hidden'); // ¡Mostramos el Panel Admin!
                }
            } else {
                // Nadie logueado
                menuLogin.classList.remove('hidden');
                menuAdmin.classList.add('hidden');
                menuLogout.classList.add('hidden');
            }
        });

        // Función para Iniciar Sesión (MVP con prompts)
        document.getElementById('btn-login').addEventListener('click', (e) => {
            e.preventDefault();
            const email = prompt("Email de acceso:");
            if (!email) return;
            const password = prompt("Contraseña:");
            if (!password) return;

            signInWithEmailAndPassword(auth, email, password)
                .then(() => alert("Bienvenido de nuevo."))
                .catch((error) => alert("Error al iniciar sesión: " + error.message));
        });

        // Función para Cerrar Sesión
        document.getElementById('btn-logout').addEventListener('click', (e) => {
            e.preventDefault();
            signOut(auth).then(() => {
                alert("Sesión cerrada correctamente.");
                window.location.reload(); // Recargamos para limpiar todo
            });
        });
    </script>
</body>
</html>